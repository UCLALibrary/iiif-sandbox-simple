language: minimal
if: branch = master

env:
  global:
  - secure: R4oOBKLo+VQcuI5VX6ikvyqmcE6dLDeAsoniahDSuAqOIbQ9vFWBhkORnbjwk1SLkJCDIYaZfUnFDZbsR8Tx31TcROIws2DserRJx1L31e7g/8X+5dLf6LOSybT0Djhtysusef7lWsLq+kmp85VNMGcEvbIOnkpOnyqy76ppqMs21MdQlgBmalgdZT6PJsqb3C14t4VZiqYS71BbY9ai1P2sZffqddd9gPSUHZ89cxCD8JgiCyeZapswak8bVMnoWQiCBZVFJydNOkuWGmY9mxA8B2mod5IemIl3JVBOhfz40VFPQBvmq5QzgWbHQDrt3sefmK2ZfHjAqdMVWfP6hVcbUCtU7mtazmXlzANLY6U9LxIHU5m2FnSCZADSpMVGUab1r6XoaD/v510XOEejN0HGWB3eayUN/5XbaxrpULJXh5vNut3yeT+24m5BnSxfKQ+r8jeKZHk5tL97LL5vIHZi4o2Fn4vnXjpsOWbW/6/xvaEa7oZH3YT+nGBPqFq8n1HWKxSe8nxjpI/3S9XVDOvKhHN4Qw0G0igDd42iRZrPyQgCoPYzwlG7HGF1VvAT2zxkbN1PmQMPii57cD06dLnDVhp4qjhc7RQ8/apnxtMmSg5bSUQmOWlxtCbDdFB13lYDlf1/6rgoDwFcQJgdaJkjzg94N1pwM7qBG9MY2Pw=
  - secure: muo8eDHw1MvUdvCeo6TWRg1h9zK1g1AkGPxbfjciLq/5YZg7k1IgQ8T4bdiZ/4JQKxi61oSoDOp9U9xBT0ieCm8UYogQX1OuWhNQ1yv6IFqNmwRLIccOPBmpqfQTCrADlXnPeSOaOcXMMbDmZrJxxRumQdO8KAmo7fVtWrBnG8vnMHzFZRxGN8JVt3qo/2j6dQ1ZBIqFbosq1552+mSwCggQLVvaOYqCG0SgEuMCwmijIxPUFZYb8thLMgBROBZXK/ovoWvgG03y542zQBhEQWr/pOdafqGSH6lt8KZgrjo5r/j6Ca0vrGWG9Ec8porsUjdhRAxK1Bl4pdHjxmFuvRvFnyyENO1S1LBtVoG9XKwtrZyo57TRiY+C3qF3rQqnqwkX2DxJNvfKGbbPE0nVcnzyPE2yHLU41deC8vsB1/DxFpiZhT44y5UN1oEBjYjUdcGHYWK9rLjCDonNzS0OxdKWfXXqxnpFHWXYh8/Q70kq24iYBfgr5KgUYmJTBxTsNc9oGauGkiJDkNTIeF3aWiX2gwU54V6d3a5kvbpM2u8bZMHllV48RjdlbwNawovb+RtpwNOXbLJFaLIRRu+SJuSbnqCq7fOV72xLTDjDO+46U7cVfjfhIQ7OopZcQtu1H2SK0cC7OWsw7V1RMo9IOdgnlkknWNVebe+lfcKUn4U=
  - secure: e3kd0wB3l2OJluV4zIiQofCGiWmO/REqG7U/vbNhya2jxTFruOyoCha1MO/0dfMi1juDMTIVTsyLjr/6zsMSE+TWaPJ35VNlDMJsObaxbrIbP2ZiXIj5v2CKOh1Dv5xfXBGmxWccM52+DPBOmPcyzh93ZQtkBsF7SgGypVIcANwcThsvpNH1iEBcBP86Ek9oibs19nwuCn4KIbokU7ouW5UdkBLj4uRQInhSa2DVebA/FLYItKrQoWmsZQoiBSA33ae2p//FzJe5+3Vg5esnMVXIyaEPxD8Ug2xAZeAJdQ9ajdqv5dTuaFUcr5Tk3aiJidJngrck08reP+FScRrle6oJsYf7kLrJeYDL01N4mABvaZSeNeFHaoosK19/qKY5u4hzAcYkoWkl9/BivU0odmkr+R/V78nZeU3GYHGPoyF2K1CDV4TXczwPJqEOSsb+GNsZam8SjTTETQwKrQF8PE6v/CPsmwNMGCLx9tcFZYw1v6B0ty8wsTUEj5ceCyZovDtMXvImROOXMxElYp/o97Yw4Obh+WFqijtzoGSOPp3snCIpqY8RKl8/wm6wOFjmsP4vLnQlloshWNTarJvt5K/VCtId2Q2ll28rIXhxTRrqOBU2QIzGZoGfpVUdzcBg5LXbUxp0RJh3ReXp/zcrxZ9M3jfb5WpW41+54NWhNb0=

before_install:
  - pip install --user awscli
  - which aws
  - export AWS_DEFAULT_REGION=us-west-2
after_success:
  - aws s3 sync . s3://$DEPLOY_S3_BUCKET/ --exclude "node_modules*" --exclude ".git*" --exclude ".travis.yml*" --delete